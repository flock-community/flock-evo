{"version":3,"file":"generations.js","sourceRoot":"","sources":["generations.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAC,aAAa,EAAE,KAAK,EAAC,MAAM,mBAAmB,CAAC;AAIhD,IAAM,WAAW,GAAjB,MAAM,WAAY,SAAQ,UAAU;IAApC;;QAUG,gBAAW,GAAiB,EAAE,CAAA;QAE9B,cAAS,GAAG,IAAI,SAAS,CAAC,wBAAwB,CAAC,CAAA;IA2B7D,CAAC;IAzBC,iBAAiB;QACf,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAE1B,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,KAAK,EAAE,EAAE;YAChC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACxB,CAAC,CAAA;QAED,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,CAAC,KAAK,EAAE,EAAE;YACnC,wBAAwB;YACxB,MAAM,UAAU,GAAgB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAA0B,CAAA;YAC/E,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,CAAC,WAAW,EAAE,UAAU,CAAC,CAAA;QACtD,CAAC,CAAA;IACH,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CACvC,IAAI,CAAA;wBACc,UAAU,CAAC,KAAK;wBAChB,UAAU,CAAC,MAAM,CAAC,MAAM;mCACb,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;KAClD,CAAC,CAAA;IAGJ,CAAC;;AArCM,kBAAM,GAAG,GAAG,CAAA;;;;;;GAMlB,CAAC;AAGF;IADC,KAAK,EAAE;gDAC8B;AAV3B,WAAW;IADvB,aAAa,CAAC,uBAAuB,CAAC;GAC1B,WAAW,CAuCvB;SAvCY,WAAW","sourcesContent":["import { html, css, LitElement } from 'lit';\nimport {customElement, state} from 'lit/decorators.js';\nimport {Generation} from \"./models.js\";\n\n@customElement('flock-evo-generations')\nexport class Generations extends LitElement {\n  static styles = css`\n    :host {\n      display: block;\n      padding: 25px;\n      color: var(--flock-evo-text-color, #000);\n    }\n  `;\n\n  @state()\n  private generations: Generation[] = []\n\n  private websocket = new WebSocket(\"ws://localhost:8080/ws\")\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.websocket.onopen = (event) => {\n      console.log(\"opened\");\n    }\n\n    this.websocket.onmessage = (event) => {\n      //TODO make runtime safe\n      const generation : Generation = JSON.parse(event.data) as unknown as Generation\n      console.log(generation);\n      this.generations = [...this.generations, generation]\n    }\n  }\n\n  render() {\n    return this.generations.map(generation =>\n      html`\n        <p>Generation ${generation.index}</p>\n        <p>World size ${generation.worlds.length}</p>\n        <flock-evo-world .world=\"${generation.worlds[0]}\"></flock-evo-world>\n    `)\n\n\n  }\n}\n"]}